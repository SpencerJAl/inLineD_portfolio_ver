<!DOCTYPE html>
<html lang="en">
<head>
	<title>inLineD</title>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1" name="viewport">

	<link href="../img/icon.png" rel="icon">
	<link href="https://fonts.googleapis.com/css?family=Lato|Playfair+Display|Roboto" rel="stylesheet">
	<link href="../css/mystyle.css" rel="stylesheet" type="text/css"><!-- Latest compiled and minified CSS -->
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"><!-- Optional theme -->
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" rel="stylesheet">

	<script>
	// Variable set up
	var x=0;
	var repeat=0;
	// Creates intion options for what gets added to the second option list	
    var option_list = [];
	// function which adds new information in such as a new option for the adding bar
	function add_function(name) {
	   //variable list
	   var name = document.getElementById("name").value; // gets the tabs name from the input feild
	   var ul = document.getElementById("sortable"); // Selects the ui list
	   var li = document.createElement("li"); // adds a new LI tag
	   var graph_ul = document.getElementById("graph"); //Selects the graph UL
	   
	   
	   //var graph_
	   var graph_li = document.createElement("li"); // adds a new LI tag
	   var h4 = document.createElement("h4"); // creates h4 tag for list names
	   var hr = document.createElement("hr");// creats hr to display information in the graph
	   var style = document.getElementById("colour").value // gets the users colour choice
	   var repeat_info = document.getElementById("data").value // gets the value data for loop
	   var option_add = document.getElementById("name").value // gets the intersect value
	   var hr_x = "hr_"+x;
	   var li_x = "li_"+x;
	   
	   // adds in distance from side for HR tag
	    var select_value = document.getElementById("intersect").value;
	    var margin_hr = 5;
	    var ul_number = ul.childNodes.length;
	    var margin_total = ul_number * margin_hr;
		if (ul_number == 0){
	    hr.setAttribute("style", "margin-left:0px;");
		}else{
		hr.setAttribute("style", "margin-left:" + margin_total + "px;");
		}
		
       // appends information as needed
	   li.appendChild(h4); // adds the h4 within the new item
	   h4.appendChild(document.createTextNode(name)); // adds the text within the new item
	   hr.setAttribute("id","hr_"+name); // adds the custom colour to the hr tag
	   hr.setAttribute("class", "hr_length" + " " +style +" "+name); // sets the hr 
	   li.setAttribute("class", "d_and_d-style y-axis" + x); // adds the styling class to it
	   graph_li.setAttribute("class", "graph_li y-axis" + x); // adds the styling class to it
	   graph_li.setAttribute("id", li_x); // adds the styling class to it
	   
	   ul.appendChild(li); // is the command to add the item to the element
	   
	   // Script which adds the newly added tags into the option list.
	   var name_list = document.getElementById("name").value;
	   option_list.push(name);
	
	  for (var i = 0; i < option_list.length; i++){
	    var opt = option_list[i];
	    var option = document.createElement("option");
	    var select = document.getElementById("intersect");	  
		var name_text = document.createTextNode(name_list);
	    option.setAttribute("id", opt); //Adding ID to the option list
	    option.setAttribute("class", "intersect-option"); // adds classes to option
	    option.setAttribute("value", opt); // adds value to option list
		
	    option.setAttribute("style", "list-style-type:none;"); // adds value to option list
	    
	} 
	option.appendChild(name_text);// adds option name
	select.appendChild(option); // Adds option to the list.
		   
	   if(select_value == 'None'){
	   graph_li.appendChild(hr);
	   graph_ul.appendChild(graph_li); // adds a new line to the graph
	   }else{
	   var hr_dup = document.createElement("hr");
	   
	   //gets the orginal hr
	   var left_li = document.getElementById("intersect").value;
	   alert(left_li);
	   // selects the child of selected element ( the hr tag within the li tag) and then gets the class tags
	   var hr_check = document.getElementById("hr_"+left_li).getAttribute("class");
	   
	   // apply the classes to the duplicate classes
	   //var style_dup = hr_check.attributes[1].value;
	   
	   
	   hr_dup.setAttribute("style", "margin-left:" + margin_total + "px;");
	   hr_dup.setAttribute("class",hr_check);   
	   
	   
	   var append_dup = document.getElementById("hr_"+left_li).parentNode;
	   alert(append_dup.nodeName);
	   //graph_li.appendChild(left_li); // Add in the additional info
	   append_dup.appendChild(hr_dup);
       graph_li.appendChild(hr);
	   graph_ul.appendChild(graph_li); // adds a new line to the graph
	   }

	   x++; // increments the value of x
	 }
	</script>

	<style>
	 #sortable { list-style-type: none; margin: 0; padding: 0; width: 25%; }
	 #sortable li { margin: 0 3px 3px 3px; padding: 0.4em; padding-left: 1.5em; font-size: 1.4em; height: 18px; }
	 #sortable li span { position: absolute; margin-left: -1.3em; }
	</style>
	<script src="https://code.jquery.com/jquery-1.12.4.js">
	</script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js">
	</script>
	<script>
	 $( function() {
	   $( "#sortable" ).sortable();
	   $( "#sortable" ).disableSelection();
	 } );

	</script>

	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
	</script>

</head>

<body id="test">
	<nav class="navbar navbar-default" role="navigation">
		<div class="navbar-header">
			<button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#" id="logo"><span id="inli">inLine</span><span id="logoD">D</span></a>
		</div>
	</nav>

	<div class="container" id="dataContainer">
		<section>
			<div class="row">
				<div class="col-sm-8">
					<ul id="sortable">
						<!--<img src"../img/#" alt="graph background"/> -->
					</ul>
					<ul id="graph"></ul>
				</div>
        <!-- END Column-->
				<div class="col-sm-4">
				    
					<input id="name" placeholder="Enter a tab value" type="text" value=""> 
					<input id="data" placeholder="Enter number of times data occurs" type="number" value="">
					<label> Add color to the new tab information </label>
					<select id="colour" name="colour">
						<option value="lightblue">
							Light Blue
						</option>
						<option value="green">
							Green
						</option>
						<option value="blue">
							Blue
						</option>
						<option value="red">
							Red
						</option>
						<option value="purple">
							Purple
						</option>
						<option value="orange">
							Orange
						</option>
						<option value="yellow">
							Yellow
						</option>
						<option value="brown">
							Brown
						</option>
					</select>

				<label> Are there any current lines this connects with?</label>
					<select id="intersect" name="intersect">
                      <option id="None" value="None">None</option>
					</select>
					<button class="btn btn-primary" onclick="add_function()" type="submit">Add a new Item Tab</button>
				</div>
			</div>
      <!-- END Row-->
		</section>
    <!-- END Section-->
	</div>
  <!-- END CONTAINER-->

	<div class="container">
		<ul class="nav nav-tabs">
			<li class="active tab-colour">
				<a class="tab-header" data-toggle="tab" href="#about">About</a>
			</li>
			<li class="tab-colour">
				<a class="tab-header" data-toggle="tab" href="#instructions">Instructions</a>
			</li>
			<li class="tab-colour">
				<a class="tab-header" data-toggle="tab" href="#team">Team</a>
			</li>
			<li class="tab-colour">
				<a class="tab-header" data-toggle="tab" href="#svg">SVG Download</a>
			</li>
		</ul>
		<div class="tab-content">
			<div class="tab-pane fade in active" id="about">
				<h3>About</h3>
				<p>Welcome to inLineD</p>
				<p>inLineD is a web application to help you create graphs which will help you when creating '' style graphs, just click on the intstrusction tab in order to learn how to start using this app or the team tab to learn about those who have worked on this style of graph</p>
			</div>
			<div class="tab-pane fade" id="instructions">
				<h3>Instructions</h3>
				<p>The instruction section.</p>
				<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
			</div>
			<div class="tab-pane fade" id="team">
				<h3>Team</h3>
				<p>The team sections</p>
				<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
			</div>
			<div class="tab-pane fade" id="svg">
				<h3>SVG Download</h3>
				<p>The SVG Download sections</p>
				<p>Click on the button below to download the current graph as an SVG image file.</p>
				<p><button class="btn btn-info" type="button">Download</button></p>
			</div>
		</div>
	</div>

	<div class="footer">
		<p>Footer</p>
	</div>

</body>
</html>
